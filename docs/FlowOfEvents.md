# Поток событий

## Работа по протоколу

Данный вариант использования позволяет внешнему интерфейсу подключиться к платформе и посылать ей сообщения об управлении ее компонентами. Он описан с помощью диаграммы состояний:

![Основная диаграмма состояний](diagrams/mainStates.png "Диаграмма состояний")

## Управление движением

Данный вариант использования позволяет внешнему интерфейсу управлять движением платформы через драйвер двигателя.  
Предусловие: внешнее устройство должно быть подключено в соответствии с протоколом.  
Основной и альтернативный потоки событий:  
1. Вариант использования начинается, когда была принята и распознана команда управления движением  
2. Платформа проверяет корректность параметров в команде. При принятии некорректных параметров платформа возвращает сообщение об ошибке и переходит в состояние ожидания следующей команды
3. Платформа конвертирует параметры команды в вид, принимаемый драйвером двигателя
3. Платформа отправляет данные драйверу двигателя
4. Платформа возвращает сообщение об успешности исполнения команды 
5. Вариант использования завершается

Постусловия: 
Платформа переходит в состояние ожидания следующей команды

## Получение информации с датчиков расстояния

Данный вариант использования позволяет внешнему интерфейсу получать информацию с датчиков расстояния платформы.  
Предусловие: внешнее устройство должно быть подключено в соответствии с протоколом.  
Основной и альтернативный потоки событий:  
1. Вариант использования начинается, когда была принята и распознана команда получения информации с датчиков расстояния  
2. Платформа проверяет корректность параметров в команде. При принятии некорректных параметров платформа возвращает сообщение об ошибке и переходит в состояние ожидания следующей команды
3. Платформа конвертирует параметры команды в вид, принимаемый переходной платой датчиков расстояния 
3. Платформа отправляет данные переходной плате датчиков расстояния 
3. Платформа получает информацию с переходной платы датчиков расстояния
3. Платформа конвертирует информацию с переходной платы датчиков расстояния в общепринятые единицы измерения расстояния (сантиметры)
4. Платформа возвращает сконвертированную информацию внешнему интерфейсу
4. Платформа возвращает сообщение об успешности исполнения команды 
5. Вариант использования завершается

Постусловия: 
Платформа переходит в состояние ожидания следующей команды
