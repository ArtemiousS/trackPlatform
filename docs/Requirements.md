# Требования к проекту
---

# Содержание
1) [Введение](#intro)  
2) [Аналоги](#analogues)
2) [Требования пользователя](#user_requires)  
    1) [Программные интерфейсы](#program_interfaces)  
        1) [Протокол взаимодействия](#protocol)  
        1) [Список поддерживаемых команд](#supported_commands)  
    2) [Интерфейс пользователя](#user_interface)  
    3) [Характеристики пользователей](#user_description)  
    4) [Предположения и зависимости](#dependencies)  
3) [Системные требования](#system_requires)  
    1) [Функциональные требования](#functional_requires)  
    2) [Нефункциональные требования](#nonfunctional_requires)  
        1) [Атрибуты качаства](#quality_attributes)  

<a name="intro"/>

# Введение

<!-- Во введении описывается контекст проекта. Определить название продукта. В общих чертах описать, что продукт будет делать и чего он делать не будет (определить границы проекта) -->
Название проекта: trackPlatform.  
Вид проекта: аппаратно-программная платформа (далее - аппаратная платформа, платформа).  
Данный проект предназначен для помощи студентам и разработчикам, работающим с программным 
обеспечением (далее - ПО), которое не связано программированием микроконтроллеров, 
использовать микроконтроллеры
и их возможности для выполнения поставленных задач. Цель данного проекта - написать программное
обеспечение для микроконтроллера (далее - прошивку) и предоставить программисту интерфейсы для 
взаимодействия с hardware-уровнем (уровнем микроконтроллеров) и использованием его возможностей с
помощью отправки команд микроконтроллеру. 
Сама аппаратная платформа должна уметь:  
- передавать информацию с датчиков расстояния и линии в режиме реального времени;  
- перемещаться в пространстве в двух плоскостях, используя гусеницы (т.е. устройство
 не должно уметь летать);  
- управлять поворотной платформой, установленной на корпусе (вращение относительно двух осей);
- принимать команды для их последующей обработки и ответа на них, если требуется.

<a name="analogues"/>

# Аналоги

Данный проект имеет аналог: свою предыдущую версию. Предыдущая версия проекта не имеет
четкой структуры и для добавления новых функций в систему требуется переписывать
большое количество имеющегося кода. Требуется по возможности устранить данные недостатки
системы.
Также в данной реализации требуется убрать поддержку редко используемых команд.

<a name="user_requires"/>

# Требования пользователя  

<a name="program_interfaces"/>

## Программные интерфейсы  
<!-- Перечислить внешние системы / библиотеки / сервисы, с которыми продукт будет взаимодйствовать. -->
Данное устройство должно взаимодействовать только с API (библиотекой для взаимодействия 
с данной аппаратной платформой), написанных на разных языках 
программирования, используя свою прошивку. Сами API могут быть использованы в различных
приложениях, например:  
- управление платформой с помощью смартфона;  
- системы исследования местности.  

Взаимодействие с API должно проводиться как с использованием проводных (через USB-кабель),
 так и беспроводных (через Bluetooth) систем связи. API может быть реализовано самим 
 разработчиком, так и сторонними. Обе стороны (API и платформа) обязаны безукоризеннно
 следовать [протоколу](#protocol).

<a name="protocol"/>

### Протокол взаимодействия  
Для взаимодействия с платформой требуется реализовать протокол, который будет принимать команды и отвечать на них.  
Формат любой посылки (на прием или передачу):  
*<размер данных> <данные> <контрольная сумма>*  

| Элемент команды | Размер | Описание |
|:---|:---|:---|
| Размер данных | 1 байт | Размер данных в байтах (пересылается в двоичном виде) |
| Данные | До 255 байт включительно (ограничено возможностями поля "Размер данных") | Пересылаемые данные |
| Контрольная сумма | 2 байта | Контрольная сумма, рассчитанная по алгоритму CRC-16 IBM (полином версии 0x8005) |

Формат данных команды (отправляется из приложения через API на устройство):  
*<контроллер> <команда контролера> <параметры команды (если требуется командой)>*  

| Элемент команды | Описание |
|:---|:---|
| Контроллер | выбор контроллера (контроллер движения, датчиков, сервопривода или связи) |
| Команда контроллера | команда контроллеру (например: движение вперед) |
| Параметры команды | необязательный параметр, обычно одно или несколько чисел в виде строки (а не в двоичном виде), разделяемые символом-разделителем и которые прилагаются к команде |

Формат данных ответа полностью зависит от команды, на которую платформа будет отправлять ответ.
Ответы также могут быть управляющими (синхронизирующими). Существует два вида управляющих ответов:  
- OK
- ERROR

Первый - утвердительный, второй - отрицательный.  
При полном приеме команды от приложения будет сформирован ответ: 
утвердительный - при принятии команды без повреждений, отрицательный - в случаях 
повреждения посылки либо принятии команды с несоответствующим форматом.
При посылке отрицательного ответа на команду платформа переходит в режим ожидания команды.

<a name="supported_commands"/>

### Список поддерживаемых команд  
TODO

<!-- <a name="user_interface"/>

## Интерфейс пользователя  
Описать, как система будет взаимодействовать с пользователем. Возможны следующие варианты описания:
- текстовое
- иллюстрации (мокапы)
- таблицы “действие пользователя - реакция” -->

<a name="user_description"/>

## Характеристики пользователей  
<!-- Идентифицировать пользователей (группы пользователей) и описать их характеристики (включая уровень образования, опыт, техническую грамотность) -->
Данное решение предназначено для студентов технических специальностей (будущих разработчиков ПО)
 и разработчиков, которые знакомы с последовательными протоколами передачи данных
 (например, RS-232) и их видами и которые понимают как они функционируют.


<a name="dependencies"/>

## Предположения и зависимости  
<!-- Перечислить факторы, которые могут повлиять на требования к системе, описанные в данном документе. -->
На требования к данной платформе и протоколу для взаимодействия с ней могут повлиять:

- добавление новых интерфейсов связи или данных (например, Wi-Fi, SD карты);
- изменение требований к ПО;
- добавление других видов датчиков для платформы (например, компаса);

<a name="system_requires"/>

# Системные требования  
<!-- Этот раздел должен содержать требования к продукту описанные на уровне достаточном для однозначного понимания того, как система может быть спроектирована и протестирована на предмет удовлетворения данных требований. -->

<a name="functional_requires"/>

## Функциональные требования  
<!-- Можно представить в виде нумерованного списка (для однозначной идентификации требований) -->
1. поддержка проводного интерфейса связи (соединение по USB);  
1. поддержка беспроводного интерфейса связи (соединение по Bluetooth);  
1. управление гусеничной платформой;  
1. управление поворотной платформой (сервоприводами);  
1. получение корректной информации с датчиков линии (с "заводской" калибровкой датчиков
в виде констант);  
1. получение информации с датчиков расстояния (с "заводской" калибровкой датчиков 
в виде констант);  
1. убрать поддержку редко используемых команд (неописанные старые команды);  

<a name="nonfunctional_requires"/>

## Нефункциональные требования 

<a name="quality_attributes"/>

### Атрибуты качества
<!-- Перечислить атрибуты качества, важные для данной системы (надёжность, безопасность и т.д.) и пояснить почему они важны и как они должны измеряться. -->
